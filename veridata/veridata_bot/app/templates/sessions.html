{% extends "base.html" %}

{% block content %}
<div class="header">
    <h1>Active Sessions</h1>
    <div style="display: flex; gap: 1rem;">
        <a href="/admin"
            style="padding: 0.75rem; text-decoration: none; color: var(--text-color); border: 1px solid var(--border-color); border-radius: 0.5rem; background-color: var(--secondary-color);">
            ‚Üê Mappings
        </a>
        <form action="/admin/logout" method="post" style="margin: 0;">
            <button type="submit"
                style="background-color: var(--secondary-color); border: 1px solid var(--border-color);">Logout</button>
        </form>
    </div>
</div>

<div style="background-color: var(--secondary-color); padding: 1rem; border-radius: 0.5rem; margin-bottom: 2rem;">
    <p style="margin: 0; color: #94a3b8;">
        Sessions track the context ("memory") for each user. Deleting a session will cause the bot to start a fresh
        conversation with that user.
    </p>
</div>

<table>
    <thead>
        <tr>
            <th>Instance</th>
            <th>Phone Number</th>
            <th>Session ID</th>
            <th>Status</th>
            <th>Last Active</th>
            <th style="text-align: right;">Actions</th>
        </tr>
    </thead>
    <tbody>
        {% for session in sessions %}
        {% include "partials/session_row.html" %}
        {% endfor %}
    </tbody>
</table>
{% endblock %}